(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3941:function(e,o,t){Promise.resolve().then(t.bind(t,5716))},5716:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return y}});var r=t(7027),a=t(4167),c=t(9716),n=t(6738),l=t(415),i=t(3180);let p="#e06c75",s="#abb2bf",d="#7d8799",f="#d19a66",m="#2c313a",u="#141514",g="#353a42",b="#528bff",J=c.tk.theme({"&":{color:s,backgroundColor:u},".cm-content":{caretColor:b},".cm-cursor, .cm-dropCursor":{borderLeftColor:b},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"#3E4451"},".cm-panels":{backgroundColor:"#21252b",color:s},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:u,color:d,border:"none"},".cm-activeLineGutter":{backgroundColor:m},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:g},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:g,borderBottomColor:g},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:m,color:s}}},{dark:!0}),h=l.Qf.define([{tag:i.pJ.keyword,color:"#c678dd"},{tag:[i.pJ.name,i.pJ.deleted,i.pJ.character,i.pJ.propertyName,i.pJ.macroName],color:p},{tag:[i.pJ.function(i.pJ.variableName),i.pJ.labelName],color:"#61afef"},{tag:[i.pJ.color,i.pJ.constant(i.pJ.name),i.pJ.standard(i.pJ.name)],color:f},{tag:[i.pJ.definition(i.pJ.name),i.pJ.separator],color:s},{tag:[i.pJ.typeName,i.pJ.className,i.pJ.number,i.pJ.changed,i.pJ.annotation,i.pJ.modifier,i.pJ.self,i.pJ.namespace],color:"#e5c07b"},{tag:[i.pJ.operator,i.pJ.operatorKeyword,i.pJ.url,i.pJ.escape,i.pJ.regexp,i.pJ.link,i.pJ.special(i.pJ.string)],color:"#56b6c2"},{tag:[i.pJ.meta,i.pJ.comment],color:d},{tag:i.pJ.strong,fontWeight:"bold"},{tag:i.pJ.emphasis,fontStyle:"italic"},{tag:i.pJ.strikethrough,textDecoration:"line-through"},{tag:i.pJ.link,color:d,textDecoration:"underline"},{tag:i.pJ.heading,fontWeight:"bold",color:p},{tag:[i.pJ.atom,i.pJ.bool,i.pJ.special(i.pJ.variableName)],color:f},{tag:[i.pJ.processingInstruction,i.pJ.string,i.pJ.inserted],color:"#98c379"},{tag:i.pJ.invalid,color:"#ffffff"}]),k=[J,(0,l.nF)(h)];var w=t(4420),C=t(1768),v=t(8845),y=()=>{let e=(0,v.useRef)(),o=(0,v.useRef)(null);return(0,v.useEffect)(()=>{if(!o.current)return;let t=new n.F6,r=new n.F6,l=c.tk.theme({}),i=c.tk.theme({"&":{height:"100vh",minHeight:"200px"},".cm-scroller":{overflow:"auto"}}),p=(0,w.Z)(e=>{window.parent.postMessage({s:"notion-nice",type:"save",value:e},"*")},800),s=c.tk.updateListener.of(e=>{e.docChanged&&p(e.state.doc.toString())}),d=n.yy.create({doc:"",extensions:[(0,a.iv)(),i,C.w9,s,c.tk.lineWrapping,r.of(l),t.of([c.tk.editable.of(!0),n.yy.readOnly.of(!1)])]}),f=new c.tk({state:d,parent:o.current});function m(e){var o;if("https://www.notion.so"!==e.origin||(null===(o=e.data)||void 0===o?void 0:o.s)!=="notion-nice")return;let{type:a,value:i}=e.data;switch(a){case"setDoc":f.dispatch({changes:{from:0,to:f.state.doc.length,insert:i},effects:[c.tk.scrollIntoView(0)]});break;case"setEditable":f.dispatch({effects:[t.reconfigure([c.tk.editable.of(!!i),n.yy.readOnly.of(!i)])]});break;case"selectedTheme":f.dispatch({effects:r.reconfigure("dark"===i?k:l)})}}return e.current=f,window.addEventListener("message",m),()=>{f.destroy(),window.removeEventListener("message",m)}},[]),(0,r.jsx)("div",{ref:o,className:"relative flex-none w-full h-full"})}}},function(e){e.O(0,[435,900,493,348,744],function(){return e(e.s=3941)}),_N_E=e.O()}]);